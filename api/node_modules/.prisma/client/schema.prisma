generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model SuperAdmin {
  id              Int                        @id @default(autoincrement())
  email           String                     @unique
  password        String
  firstName       String
  lastName        String
  isActive        Boolean                    @default(true)
  lastLogin       DateTime?
  createdAt       DateTime                   @default(now())
  updatedAt       DateTime                   @updatedAt
  profilePicture  String?
  activities      Activity[]                 @relation("SuperAdminActivities")
  roleAssignments SuperAdminRoleAssignment[]

  @@map("super_admins")
}

model SuperAdminRole {
  id              Int                        @id @default(autoincrement())
  name            String                     @unique
  description     String?
  isActive        Boolean                    @default(true)
  createdAt       DateTime                   @default(now())
  updatedAt       DateTime                   @updatedAt
  roleAssignments SuperAdminRoleAssignment[]
  rolePermissions SuperAdminRolePermission[]

  @@map("super_admin_roles")
}

model SuperAdminPermission {
  id              Int                        @id @default(autoincrement())
  name            String
  key             String                     @unique
  description     String?
  module          String
  createdAt       DateTime                   @default(now())
  updatedAt       DateTime                   @updatedAt
  rolePermissions SuperAdminRolePermission[]

  @@map("super_admin_permissions")
}

model SuperAdminRoleAssignment {
  id           Int            @id @default(autoincrement())
  superAdminId Int
  roleId       Int
  role         SuperAdminRole @relation(fields: [roleId], references: [id], onDelete: Cascade)
  superAdmin   SuperAdmin     @relation(fields: [superAdminId], references: [id], onDelete: Cascade)

  @@unique([superAdminId, roleId])
  @@map("super_admin_role_assignments")
}

model SuperAdminRolePermission {
  id           Int                  @id @default(autoincrement())
  roleId       Int
  permissionId Int
  permission   SuperAdminPermission @relation(fields: [permissionId], references: [id], onDelete: Cascade)
  role         SuperAdminRole       @relation(fields: [roleId], references: [id], onDelete: Cascade)

  @@unique([roleId, permissionId])
  @@map("super_admin_role_permissions")
}

model User {
  id                     Int        @id @default(autoincrement())
  email                  String     @unique
  password               String
  firstName              String
  lastName               String
  isActive               Boolean    @default(true)
  lastLogin              DateTime?
  createdAt              DateTime   @default(now())
  updatedAt              DateTime   @updatedAt
  profilePicture         String?
  companyId              Int?
  deletedAt              DateTime?
  accountLockedUntil     DateTime?
  emailVerificationToken String?    @unique
  emailVerified          Boolean    @default(false)
  emailVerifiedAt        DateTime?
  failedLoginAttempts    Int        @default(0)
  passwordResetExpires   DateTime?
  passwordResetToken     String?    @unique
  twoFactorEnabled       Boolean    @default(false)
  twoFactorSecret        String?
  mustChangePassword     Boolean    @default(false)
  managerId              Int?
  teamId                 Int?
  activities             Activity[] @relation("UserActivities")
  createdBudgets         Budget[]   @relation("UserCreatedBudgets")

  createdAutomations     CommunicationAutomation[] @relation("UserCreatedAutomations")
  sentMessages           CommunicationMessage[]    @relation("UserMessages")
  createdTemplates       CommunicationTemplate[]   @relation("UserCreatedTemplates")
  assignedCompanies      companies[]               @relation("UserAssignedCompanies")
  createdCompanies       companies[]               @relation("UserCreatedCompanies")
  companyActivities      CompanyActivity[]         @relation("UserCompanyActivities")
  companyCommunications  CompanyCommunication[]    @relation("UserCompanyCommunications")
  companyFollowUps       CompanyFollowUp[]         @relation("UserCompanyFollowUps")
  deals                  Deal[]                    @relation("UserDeals")
  createdDeals           Deal[]                    @relation("UserCreatedDeals")
  approvedExpenses       Expense[]                 @relation("UserApprovedExpenses")
  rejectedExpenses       Expense[]                 @relation("UserRejectedExpenses")
  submittedExpenses      Expense[]                 @relation("UserSubmittedExpenses")
  uploadedFiles          File[]                    @relation("UserUploadedFiles")
  createdInvoices        Invoice[]                 @relation("UserInvoices")
  communications         LeadCommunication[]       @relation("UserCommunications")
  followUps              LeadFollowUp[]            @relation("UserFollowUps")
  importBatches          LeadImportBatch[]         @relation("UserLeadImports")
  assignedLeads          Lead[]                    @relation("UserAssignedLeads")
  createdLeads           Lead[]                    @relation("UserCreatedLeads")
  loginSessions          LoginSession[]
  notes                  Note[]                    @relation("UserNotes")
  notificationPreference NotificationPreference?   @relation("UserNotificationPreference")
  notifications          Notification[]            @relation("UserNotifications")
  passwordHistory        PasswordHistory[]
  createdPayments        Payment[]                 @relation("UserPayments")
  createdQuotations      Quotation[]               @relation("UserQuotations")
  refreshTokens          RefreshToken[]
  assignedTasks          Task[]                    @relation("UserAssignedTasks")
  createdTasks           Task[]                    @relation("UserCreatedTasks")
  managedTeams           Team[]                    @relation("TeamManager")
  roles                  UserRole[]
  companies              companies?                @relation(fields: [companyId], references: [id])
  manager                User?                     @relation("UserManager", fields: [managerId], references: [id])
  subordinates           User[]                    @relation("UserManager")
  team                   Team?                     @relation("TeamMembers", fields: [teamId], references: [id])
  callLogs               CallLog[]                 @relation("UserCallLogs")

  @@map("users")
}

model Team {
  id          Int      @id @default(autoincrement())
  name        String
  description String?
  managerId   Int?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  manager     User?    @relation("TeamManager", fields: [managerId], references: [id])
  members     User[]   @relation("TeamMembers")

  @@map("teams")
}

model Role {
  id          Int              @id @default(autoincrement())
  name        String           @unique
  description String?
  isActive    Boolean          @default(true)
  accessScope RoleAccessScope  @default(OWN)
  createdAt   DateTime         @default(now())
  updatedAt   DateTime         @updatedAt
  deletedAt   DateTime?
  permissions RolePermission[]
  users       UserRole[]

  @@map("roles")
}

model Permission {
  id          Int              @id @default(autoincrement())
  name        String
  key         String           @unique
  description String?
  module      String
  createdAt   DateTime         @default(now())
  updatedAt   DateTime         @updatedAt
  roles       RolePermission[]

  @@map("permissions")
}

model LeadSource {
  id          Int        @id @default(autoincrement())
  name        String     @unique
  description String?
  color       String     @unique
  sortOrder   Int        @default(0)
  isActive    Boolean    @default(true)
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt
  companyId   Int?
  companies   companies? @relation(fields: [companyId], references: [id])
  leads       Lead[]

  @@map("lead_sources")
}

model Tag {
  id          Int        @id @default(autoincrement())
  name        String     @unique
  color       String     @unique
  description String?
  isActive    Boolean    @default(true)
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt
  companyId   Int?
  leads       LeadTag[]
  companies   companies? @relation(fields: [companyId], references: [id])

  @@map("tags")
}

model Lead {
  id                     Int          @id @default(autoincrement())
  firstName              String?
  lastName               String?
  email                  String?
  phone                  String?
  company                String?
  position               String?
  status                 LeadStatus   @default(NEW)
  notes                  String?
  isActive               Boolean      @default(true)
  createdAt              DateTime     @default(now())
  updatedAt              DateTime     @updatedAt
  sourceId               Int?
  assignedTo             Int?
  companyId              Int?
  deletedAt              DateTime?
  budget                 Decimal?     @db.Decimal(10, 2)
  currency               String?      @default("USD")
  lastContactedAt        DateTime?
  nextFollowUpAt         DateTime?
  priority               LeadPriority @default(MEDIUM)
  industry               String?
  website                String?
  companySize            Int?
  annualRevenue          Decimal?     @db.Decimal(15, 2)
  leadScore              Int?
  address                String?
  country                String?
  state                  String?
  city                   String?
  zipCode                String?
  linkedinProfile        String?
  timezone               String?
  preferredContactMethod String?      @default("email")
  customFields           Json?        @default("{}")
  previousStatus         LeadStatus?
  convertedToDealId      Int?
  createdBy              Int?
  activities             Activity[]   @relation("LeadActivities")

  messages        CommunicationMessage[] @relation("LeadMessages")
  deals           Deal[]                 @relation("LeadDeals")
  expenses        Expense[]
  invoices        Invoice[]              @relation("LeadInvoices")
  communications  LeadCommunication[]
  followUps       LeadFollowUp[]
  importRecords   LeadImportRecord[]     @relation("ImportedLeadRecords")
  integrationSync LeadIntegrationSync[]
  tags            LeadTag[]
  assignedUser    User?                  @relation("UserAssignedLeads", fields: [assignedTo], references: [id])
  companies       companies?             @relation(fields: [companyId], references: [id])
  createdByUser   User?                  @relation("UserCreatedLeads", fields: [createdBy], references: [id])
  source          LeadSource?            @relation(fields: [sourceId], references: [id])
  leadNotes       Note[]                 @relation("LeadNotes")
  quotations      Quotation[]            @relation("LeadQuotations")
  tasks           Task[]                 @relation("LeadTasks")
  callLogs        CallLog[]              @relation("LeadCallLogs")

  @@map("leads")
}

model UserRole {
  id     Int  @id @default(autoincrement())
  userId Int
  roleId Int
  role   Role @relation(fields: [roleId], references: [id], onDelete: Cascade)
  user   User @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([userId, roleId])
  @@map("user_roles")
}

model RolePermission {
  id           Int        @id @default(autoincrement())
  roleId       Int
  permissionId Int
  permission   Permission @relation(fields: [permissionId], references: [id], onDelete: Cascade)
  role         Role       @relation(fields: [roleId], references: [id], onDelete: Cascade)

  @@unique([roleId, permissionId])
  @@map("role_permissions")
}

model LeadTag {
  id     Int  @id @default(autoincrement())
  leadId Int
  tagId  Int
  lead   Lead @relation(fields: [leadId], references: [id], onDelete: Cascade)
  tag    Tag  @relation(fields: [tagId], references: [id], onDelete: Cascade)

  @@unique([leadId, tagId])
  @@map("lead_tags")
}

model Activity {
  id           Int          @id @default(autoincrement())
  title        String
  description  String
  type         ActivityType
  icon         String       @default("FiUser")
  iconColor    String       @default("text-blue-600")
  tags         String[]     @default([])
  metadata     Json?
  createdAt    DateTime     @default(now())
  updatedAt    DateTime     @updatedAt
  userId       Int?
  superAdminId Int?
  leadId       Int?
  lead         Lead?        @relation("LeadActivities", fields: [leadId], references: [id])
  superAdmin   SuperAdmin?  @relation("SuperAdminActivities", fields: [superAdminId], references: [id])
  user         User?        @relation("UserActivities", fields: [userId], references: [id])

  @@map("activities")
}

model Industry {
  id        Int             @id @default(autoincrement())
  name      String          @unique
  slug      String          @unique
  isActive  Boolean         @default(true)
  createdAt DateTime        @default(now())
  updatedAt DateTime        @updatedAt
  companies companies[]
  fields    IndustryField[]

  @@map("industries")
}

model IndustryField {
  id         Int       @id @default(autoincrement())
  industryId Int
  name       String
  key        String
  type       FieldType @default(TEXT)
  isRequired Boolean   @default(false)
  isActive   Boolean   @default(true)
  createdAt  DateTime  @default(now())
  updatedAt  DateTime  @updatedAt
  industry   Industry  @relation(fields: [industryId], references: [id], onDelete: Cascade)

  @@unique([industryId, key])
  @@map("industry_fields")
}

model companies {
  id                Int                       @id @default(autoincrement())
  name              String                    @unique
  createdAt         DateTime                  @default(now())
  updatedAt         DateTime                  @updatedAt
  domain            String?                   @unique
  isActive          Boolean                   @default(true)
  slug              String?                   @unique
  industryId        Int?
  address           String?
  alternatePhone    String?
  annualRevenue     Decimal?                  @db.Decimal(15, 2)
  assignedTo        Int?
  city              String?
  companySize       CompanySize?              @default(SMALL)
  country           String?
  currency          String?                   @default("USD")
  deletedAt         DateTime?
  description       String?
  email             String?
  employeeCount     String?
  facebookPage      String?
  foundedYear       Int?
  lastContactedAt   DateTime?
  leadScore         Int?                      @default(0)
  linkedinProfile   String?
  nextFollowUpAt    DateTime?
  notes             String?
  parentCompanyId   Int?
  phone             String?
  state             String?
  status            CompanyStatus             @default(ACTIVE)
  tags              String[]                  @default([])
  timezone          String?                   @default("UTC")
  twitterHandle     String?
  website           String?
  zipCode           String?
  createdBy         Int?
  automations       CommunicationAutomation[]
  providers         CommunicationProvider[]
  templates         CommunicationTemplate[]
  assignedUser      User?                     @relation("UserAssignedCompanies", fields: [assignedTo], references: [id])
  createdByUser     User?                     @relation("UserCreatedCompanies", fields: [createdBy], references: [id])
  industry          Industry?                 @relation(fields: [industryId], references: [id])
  parentCompany     companies?                @relation("CompanyHierarchy", fields: [parentCompanyId], references: [id])
  subsidiaries      companies[]               @relation("CompanyHierarchy")
  activities        CompanyActivity[]
  communications    CompanyCommunication[]
  followUps         CompanyFollowUp[]
  deals             Deal[]
  lead_sources      LeadSource[]
  leads             Lead[]
  companyQuotations Quotation[]               @relation("CompanyQuotations")
  tagsRelation      Tag[]
  users             User[]
}

model RefreshToken {
  id        Int      @id @default(autoincrement())
  token     String   @unique
  userId    Int
  expiresAt DateTime
  isRevoked Boolean  @default(false)
  createdAt DateTime @default(now())
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("refresh_tokens")
}

model PasswordHistory {
  id        Int      @id @default(autoincrement())
  userId    Int
  password  String
  createdAt DateTime @default(now())
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("password_history")
}

model LoginSession {
  id         Int      @id @default(autoincrement())
  userId     Int
  token      String   @unique
  deviceInfo String?
  ipAddress  String?
  userAgent  String?
  isActive   Boolean  @default(true)
  expiresAt  DateTime
  createdAt  DateTime @default(now())
  lastUsedAt DateTime @default(now())
  user       User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("login_sessions")
}

model BusinessSettings {
  id                        Int      @id @default(autoincrement())
  companyName               String
  companyEmail              String?
  companyPhone              String?
  companyAddress            String?
  companyWebsite            String?
  companyLogo               String?
  timeZone                  String   @default("UTC")
  dateFormat                String   @default("MM/DD/YYYY")
  currency                  String   @default("USD")
  passwordMinLength         Int      @default(8)
  passwordRequireUpper      Boolean  @default(true)
  passwordRequireLower      Boolean  @default(true)
  passwordRequireNumber     Boolean  @default(true)
  passwordRequireSymbol     Boolean  @default(false)
  sessionTimeout            Int      @default(24)
  maxLoginAttempts          Int      @default(5)
  accountLockDuration       Int      @default(30)
  twoFactorRequired         Boolean  @default(false)
  emailVerificationRequired Boolean  @default(true)
  createdAt                 DateTime @default(now())
  updatedAt                 DateTime @updatedAt
  leadAutoAssignmentEnabled Boolean  @default(false)
  leadFollowUpReminderDays  Int      @default(3)
  metaAdsApiKey             String?
  metaAdsApiSecret          String?
  metaAdsEnabled            Boolean  @default(false)
  indiamartApiKey           String?
  indiamartApiSecret        String?
  indiamartEnabled          Boolean  @default(false)
  tradindiaApiKey           String?
  tradindiaApiSecret        String?
  tradindiaEnabled          Boolean  @default(false)
  gstNumber                 String?
  panNumber                 String?
  cinNumber                 String?
  fiscalYearStart           String?
  industry                  String?
  employeeCount             String?
  description               String?
  preferences               Json?
  quotePrefix               String   @default("Q-")
  quoteSuffix               String   @default("")
  quotePad                  Int      @default(6)
  invoicePrefix             String   @default("INV-")
  invoiceSuffix             String   @default("")
  invoicePad                Int      @default(6)
  quoteNumberingEnabled     Boolean  @default(true)
  invoiceNumberingEnabled   Boolean  @default(true)
  invoiceTemplate           String   @default("template1")

  @@map("business_settings")
}

model FieldConfig {
  id           Int      @id @default(autoincrement())
  entityType   String
  fieldName    String
  label        String
  isRequired   Boolean  @default(false)
  isVisible    Boolean  @default(true)
  displayOrder Int      @default(0)
  section      String?
  placeholder  String?
  helpText     String?
  validation   Json?
  options      Json?
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  @@unique([entityType, fieldName])
  @@map("field_configs")
}

model LeadFollowUp {
  id          Int               @id @default(autoincrement())
  leadId      Int
  userId      Int
  type        CommunicationType @default(NOTE)
  subject     String
  notes       String?
  scheduledAt DateTime?
  completedAt DateTime?
  isCompleted Boolean           @default(false)
  reminderSet Boolean           @default(false)
  createdAt   DateTime          @default(now())
  updatedAt   DateTime          @updatedAt
  lead        Lead              @relation(fields: [leadId], references: [id], onDelete: Cascade)
  user        User              @relation("UserFollowUps", fields: [userId], references: [id])

  @@map("lead_followups")
}

model Task {
  id            Int          @id @default(autoincrement())
  title         String
  description   String?
  status        TaskStatus   @default(PENDING)
  priority      TaskPriority @default(MEDIUM)
  dueDate       DateTime?
  completedAt   DateTime?
  assignedTo    Int?
  createdBy     Int
  leadId        Int?
  dealId        Int?
  isActive      Boolean      @default(true)
  createdAt     DateTime     @default(now())
  updatedAt     DateTime     @updatedAt
  deletedAt     DateTime?
  assignedUser  User?        @relation("UserAssignedTasks", fields: [assignedTo], references: [id])
  createdByUser User         @relation("UserCreatedTasks", fields: [createdBy], references: [id])
  deal          Deal?        @relation(fields: [dealId], references: [id], onDelete: Cascade)
  lead          Lead?        @relation("LeadTasks", fields: [leadId], references: [id], onDelete: Cascade)

  @@map("tasks")
}

model Note {
  id        Int       @id @default(autoincrement())
  title     String
  content   String
  isPinned  Boolean   @default(false)
  leadId    Int
  createdBy Int
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  deletedAt DateTime?
  user      User      @relation("UserNotes", fields: [createdBy], references: [id])
  lead      Lead      @relation("LeadNotes", fields: [leadId], references: [id], onDelete: Cascade)

  @@map("notes")
}

model Tax {
  id          Int      @id @default(autoincrement())
  name        String
  rate        Decimal  @db.Decimal(5, 2)
  description String?
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("taxes")
}

model Currency {
  id           Int      @id @default(autoincrement())
  name         String   @unique
  code         String   @unique
  symbol       String
  exchangeRate Decimal  @default(1.0) @db.Decimal(15, 6)
  isActive     Boolean  @default(true)
  isDefault    Boolean  @default(false)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  @@map("currencies")
}

model LeadCommunication {
  id          Int               @id @default(autoincrement())
  leadId      Int
  userId      Int
  type        CommunicationType
  subject     String?
  content     String
  direction   String            @default("outbound")
  duration    Int?
  outcome     String?
  scheduledAt DateTime?
  completedAt DateTime?
  createdAt   DateTime          @default(now())
  updatedAt   DateTime          @updatedAt
  lead        Lead              @relation(fields: [leadId], references: [id], onDelete: Cascade)
  user        User              @relation("UserCommunications", fields: [userId], references: [id])

  @@map("lead_communications")
}

model CallLog {
  id           Int        @id @default(autoincrement())
  leadId       Int
  userId       Int
  phoneNumber  String
  callType     CallType   @default(OUTBOUND)
  callStatus   CallStatus @default(INITIATED)
  duration     Int?
  startTime    DateTime?
  endTime      DateTime?
  notes        String?
  outcome      String?
  recordingUrl String?
  isAnswered   Boolean    @default(false)
  metadata     Json?
  createdAt    DateTime   @default(now())
  updatedAt    DateTime   @updatedAt

  // Relations

  // Relations
  user User @relation("UserCallLogs", fields: [userId], references: [id])
  lead Lead @relation("LeadCallLogs", fields: [leadId], references: [id], onDelete: Cascade)

  @@index([leadId, createdAt])
  @@index([userId, createdAt])
  @@index([callStatus])
  @@map("call_logs")
}

enum CallType {
  INBOUND
  OUTBOUND
}

enum CallStatus {
  INITIATED
  RINGING
  ANSWERED
  COMPLETED
  FAILED
  BUSY
  NO_ANSWER
  CANCELLED
}

model CommunicationTemplate {
  id            Int                       @id @default(autoincrement())
  name          String
  type          TemplateType
  subject       String?
  content       String
  variables     Json?
  isActive      Boolean                   @default(true)
  isDefault     Boolean                   @default(false)
  companyId     Int?
  createdBy     Int
  createdAt     DateTime                  @default(now())
  updatedAt     DateTime                  @updatedAt
  deletedAt     DateTime?
  automations   CommunicationAutomation[]
  messages      CommunicationMessage[]
  companies     companies?                @relation(fields: [companyId], references: [id])
  createdByUser User                      @relation("UserCreatedTemplates", fields: [createdBy], references: [id])

  @@map("communication_templates")
}

model CommunicationAutomation {
  id            Int                   @id @default(autoincrement())
  name          String
  triggerType   TriggerType
  templateId    Int
  isActive      Boolean               @default(true)
  conditions    Json?
  delay         Int?
  companyId     Int?
  createdBy     Int
  createdAt     DateTime              @default(now())
  updatedAt     DateTime              @updatedAt
  deletedAt     DateTime?
  companies     companies?            @relation(fields: [companyId], references: [id])
  createdByUser User                  @relation("UserCreatedAutomations", fields: [createdBy], references: [id])
  template      CommunicationTemplate @relation(fields: [templateId], references: [id], onDelete: Cascade)

  @@map("communication_automations")
}

model CommunicationMessage {
  id           Int                    @id @default(autoincrement())
  leadId       Int
  userId       Int
  templateId   Int?
  type         TemplateType
  recipient    String
  subject      String?
  content      String
  status       MessageStatus          @default(PENDING)
  sentAt       DateTime?
  deliveredAt  DateTime?
  readAt       DateTime?
  failedAt     DateTime?
  errorMessage String?
  externalId   String?
  metadata     Json?
  createdAt    DateTime               @default(now())
  updatedAt    DateTime               @updatedAt
  lead         Lead                   @relation("LeadMessages", fields: [leadId], references: [id], onDelete: Cascade)
  template     CommunicationTemplate? @relation(fields: [templateId], references: [id])
  user         User                   @relation("UserMessages", fields: [userId], references: [id])

  @@map("communication_messages")
}

model CommunicationProvider {
  id        Int          @id @default(autoincrement())
  name      String
  type      TemplateType
  config    Json
  isActive  Boolean      @default(true)
  isDefault Boolean      @default(false)
  companyId Int?
  createdAt DateTime     @default(now())
  updatedAt DateTime     @updatedAt
  companies companies?   @relation(fields: [companyId], references: [id])

  @@map("communication_providers")
}

model EmailTemplate {
  id            Int                    @id @default(autoincrement())
  name          String
  category      EmailTemplateCategory  @default(WELCOME)
  type          TemplateType           @default(EMAIL)
  subject       String
  htmlContent   String
  textContent   String
  variables     Json?
  metadata      Json?
  status        EmailTemplateStatus    @default(DRAFT)
  isActive      Boolean                @default(true)
  isDefault     Boolean                @default(false)
  companyId     Int?
  createdBy     Int
  createdAt     DateTime               @default(now())
  updatedAt     DateTime               @updatedAt
  approvedAt    DateTime?
  approvedBy    Int?
  deletedAt     DateTime?
  auditLogs     EmailAuditLog[]
  branding      EmailBranding?
  campaigns     EmailCampaign[]
  localizations EmailLocalization[]
  versions      EmailTemplateVersion[]

  @@map("email_templates")
}

model EmailTemplateVersion {
  id              Int                 @id @default(autoincrement())
  emailTemplateId Int
  versionNumber   Int
  subject         String
  htmlContent     String
  textContent     String
  variables       Json?
  changeLog       String?
  status          EmailTemplateStatus @default(DRAFT)
  isActive        Boolean             @default(false)
  createdBy       Int
  createdAt       DateTime            @default(now())
  approvedAt      DateTime?
  approvedBy      Int?
  emailTemplate   EmailTemplate       @relation(fields: [emailTemplateId], references: [id], onDelete: Cascade)

  @@unique([emailTemplateId, versionNumber])
  @@map("email_template_versions")
}

model EmailCampaign {
  id              Int                      @id @default(autoincrement())
  name            String
  description     String?
  type            EmailCampaignType        @default(WELCOME_SERIES)
  emailTemplateId Int
  triggerType     EmailTriggerType         @default(USER_REGISTERED)
  triggerData     Json?
  steps           Json
  isActive        Boolean                  @default(true)
  isDefault       Boolean                  @default(false)
  companyId       Int?
  createdBy       Int
  createdAt       DateTime                 @default(now())
  updatedAt       DateTime                 @updatedAt
  deletedAt       DateTime?
  executions      EmailCampaignExecution[]
  emailTemplate   EmailTemplate            @relation(fields: [emailTemplateId], references: [id])

  @@map("email_campaigns")
}

model EmailCampaignExecution {
  id          Int                  @id @default(autoincrement())
  campaignId  Int
  userId      Int?
  leadId      Int?
  triggerData Json
  status      EmailExecutionStatus @default(PENDING)
  currentStep Int                  @default(0)
  totalSteps  Int
  result      Json?
  error       String?
  startedAt   DateTime             @default(now())
  completedAt DateTime?
  campaign    EmailCampaign        @relation(fields: [campaignId], references: [id], onDelete: Cascade)

  @@index([campaignId])
  @@index([userId])
  @@index([leadId])
  @@map("email_campaign_executions")
}

model EmailAuditLog {
  id              Int              @id @default(autoincrement())
  emailTemplateId Int?
  userId          Int?
  leadId          Int?
  action          EmailAuditAction
  status          EmailAuditStatus @default(SUCCESS)
  recipient       String?
  subject         String?
  content         String?
  errorMessage    String?
  metadata        Json?
  ipAddress       String?
  userAgent       String?
  sentAt          DateTime?
  deliveredAt     DateTime?
  openedAt        DateTime?
  clickedAt       DateTime?
  bouncedAt       DateTime?
  createdAt       DateTime         @default(now())
  emailTemplate   EmailTemplate?   @relation(fields: [emailTemplateId], references: [id])

  @@index([emailTemplateId])
  @@index([userId])
  @@index([leadId])
  @@index([createdAt])
  @@map("email_audit_logs")
}

model EmailBranding {
  id              Int           @id @default(autoincrement())
  emailTemplateId Int           @unique
  logoUrl         String?
  primaryColor    String        @default("#3B82F6")
  secondaryColor  String        @default("#64748B")
  backgroundColor String        @default("#FFFFFF")
  textColor       String        @default("#1F2937")
  fontFamily      String        @default("Inter, sans-serif")
  signature       String?
  footerText      String?
  socialLinks     Json?
  contactInfo     Json?
  createdAt       DateTime      @default(now())
  updatedAt       DateTime      @updatedAt
  emailTemplate   EmailTemplate @relation(fields: [emailTemplateId], references: [id], onDelete: Cascade)

  @@map("email_branding")
}

model EmailLocalization {
  id              Int           @id @default(autoincrement())
  emailTemplateId Int
  locale          String
  language        String
  country         String?
  subject         String
  htmlContent     String
  textContent     String
  variables       Json?
  isDefault       Boolean       @default(false)
  createdAt       DateTime      @default(now())
  updatedAt       DateTime      @updatedAt
  emailTemplate   EmailTemplate @relation(fields: [emailTemplateId], references: [id], onDelete: Cascade)

  @@unique([emailTemplateId, locale])
  @@map("email_localizations")
}

model CompanyActivity {
  id          Int                 @id @default(autoincrement())
  companyId   Int
  userId      Int?
  type        CompanyActivityType
  title       String
  description String?
  duration    Int?
  outcome     String?
  scheduledAt DateTime?
  completedAt DateTime?
  isCompleted Boolean             @default(false)
  metadata    Json?
  createdAt   DateTime            @default(now())
  updatedAt   DateTime            @updatedAt
  company     companies           @relation(fields: [companyId], references: [id], onDelete: Cascade)
  user        User?               @relation("UserCompanyActivities", fields: [userId], references: [id])

  @@map("company_activities")
}

model CompanyCommunication {
  id          Int               @id @default(autoincrement())
  companyId   Int
  userId      Int
  type        CommunicationType
  subject     String?
  content     String
  direction   String            @default("outbound")
  status      MessageStatus     @default(PENDING)
  scheduledAt DateTime?
  sentAt      DateTime?
  deliveredAt DateTime?
  readAt      DateTime?
  createdAt   DateTime          @default(now())
  updatedAt   DateTime          @updatedAt
  company     companies         @relation(fields: [companyId], references: [id], onDelete: Cascade)
  user        User              @relation("UserCompanyCommunications", fields: [userId], references: [id])

  @@map("company_communications")
}

model CompanyFollowUp {
  id          Int               @id @default(autoincrement())
  companyId   Int
  userId      Int
  type        CommunicationType @default(NOTE)
  subject     String
  notes       String?
  priority    TaskPriority      @default(MEDIUM)
  scheduledAt DateTime?
  completedAt DateTime?
  isCompleted Boolean           @default(false)
  reminderSet Boolean           @default(false)
  createdAt   DateTime          @default(now())
  updatedAt   DateTime          @updatedAt
  company     companies         @relation(fields: [companyId], references: [id], onDelete: Cascade)
  user        User              @relation("UserCompanyFollowUps", fields: [userId], references: [id])

  @@map("company_followups")
}

model Deal {
  id                Int           @id @default(autoincrement())
  title             String
  description       String?
  value             Decimal
  currency          String        @default("USD")
  probability       Int           @default(0)
  expectedCloseDate DateTime?
  actualCloseDate   DateTime?
  assignedTo        Int?
  leadId            Int?
  companyId         Int?
  isActive          Boolean       @default(true)
  createdAt         DateTime      @default(now())
  updatedAt         DateTime      @updatedAt
  deletedAt         DateTime?
  createdBy         Int?
  status            String        @default("DRAFT")
  products          DealProduct[]
  assignedUser      User?         @relation("UserDeals", fields: [assignedTo], references: [id])
  companies         companies?    @relation(fields: [companyId], references: [id])
  createdByUser     User?         @relation("UserCreatedDeals", fields: [createdBy], references: [id])
  lead              Lead?         @relation("LeadDeals", fields: [leadId], references: [id])
  expenses          Expense[]
  invoices          Invoice[]     @relation("DealInvoices")
  quotations        Quotation[]   @relation("DealQuotations")
  tasks             Task[]

  @@map("deals")
}

model DealProduct {
  id       Int     @id @default(autoincrement())
  dealId   Int
  name     String
  quantity Int     @default(1)
  price    Decimal @db.Decimal(10, 2)
  deal     Deal    @relation(fields: [dealId], references: [id], onDelete: Cascade)

  @@map("deal_products")
}

model LeadAssignmentRule {
  id          Int      @id @default(autoincrement())
  name        String
  description String?
  isActive    Boolean  @default(true)
  conditions  Json
  actions     Json
  priority    Int      @default(0)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("lead_assignment_rules")
}

model ThirdPartyIntegration {
  id          Int                   @id @default(autoincrement())
  name        String                @unique
  displayName String
  description String?
  isActive    Boolean               @default(true)
  apiEndpoint String
  authType    IntegrationAuthType   @default(API_KEY)
  config      Json?
  createdAt   DateTime              @default(now())
  updatedAt   DateTime              @updatedAt
  logs        IntegrationLog[]
  syncRecords LeadIntegrationSync[]

  @@map("third_party_integrations")
}

model IntegrationLog {
  id            Int                   @id @default(autoincrement())
  integrationId Int
  operation     String
  status        IntegrationLogStatus  @default(PENDING)
  message       String?
  data          Json?
  errorDetails  String?
  recordsCount  Int?                  @default(0)
  createdAt     DateTime              @default(now())
  integration   ThirdPartyIntegration @relation(fields: [integrationId], references: [id])

  @@map("integration_logs")
}

model LeadIntegrationSync {
  id            Int                   @id @default(autoincrement())
  leadId        Int
  integrationId Int
  externalId    String
  externalData  Json?
  syncStatus    LeadSyncStatus        @default(SYNCED)
  lastSyncAt    DateTime              @default(now())
  errorMessage  String?
  createdAt     DateTime              @default(now())
  updatedAt     DateTime              @updatedAt
  integration   ThirdPartyIntegration @relation(fields: [integrationId], references: [id])
  lead          Lead                  @relation(fields: [leadId], references: [id], onDelete: Cascade)

  @@unique([leadId, integrationId])
  @@unique([externalId, integrationId])
  @@map("lead_integration_sync")
}

model LeadImportBatch {
  id           Int                @id @default(autoincrement())
  fileName     String
  totalRows    Int
  successRows  Int                @default(0)
  failedRows   Int                @default(0)
  status       LeadImportStatus   @default(PROCESSING)
  errorDetails Json?
  createdBy    Int
  createdAt    DateTime           @default(now())
  updatedAt    DateTime           @updatedAt
  user         User               @relation("UserLeadImports", fields: [createdBy], references: [id])
  records      LeadImportRecord[]

  @@map("lead_import_batches")
}

model LeadImportRecord {
  id        Int              @id @default(autoincrement())
  batchId   Int
  rowIndex  Int
  leadId    Int?
  status    LeadImportStatus @default(PROCESSING)
  errors    Json?
  rawData   Json
  createdAt DateTime         @default(now())
  batch     LeadImportBatch  @relation(fields: [batchId], references: [id], onDelete: Cascade)
  lead      Lead?            @relation("ImportedLeadRecords", fields: [leadId], references: [id])

  @@map("lead_import_records")
}

model DealStatus {
  id          Int      @id @default(autoincrement())
  name        String   @unique
  color       String   @default("#6B7280")
  sortOrder   Int      @default(0)
  isActive    Boolean  @default(true)
  description String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("deal_statuses")
}

model Product {
  id             Int             @id @default(autoincrement())
  name           String
  description    String?
  sku            String?         @unique
  type           ProductType     @default(PHYSICAL)
  category       String?
  price          Decimal         @db.Decimal(10, 2)
  cost           Decimal?        @db.Decimal(10, 2)
  currency       String          @default("USD")
  unit           String?         @default("pcs")
  taxRate        Decimal?        @db.Decimal(5, 2)
  hsnCode        String?
  isActive       Boolean         @default(true)
  stockQuantity  Int?            @default(0)
  minStockLevel  Int?            @default(0)
  maxStockLevel  Int?            @default(0)
  image          String?
  companyId      Int?
  createdAt      DateTime        @default(now())
  updatedAt      DateTime        @updatedAt
  deletedAt      DateTime?
  invoiceItems   InvoiceItem[]
  quotationItems QuotationItem[]

  @@map("products")
}

model ProductCategory {
  id          Int       @id @default(autoincrement())
  name        String    @unique
  description String?
  isActive    Boolean   @default(true)
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  deletedAt   DateTime?

  @@map("product_categories")
}

model UnitType {
  id          Int       @id @default(autoincrement())
  name        String    @unique
  description String?
  isActive    Boolean   @default(true)
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  deletedAt   DateTime?

  @@map("unit_types")
}

model Quotation {
  id              Int             @id @default(autoincrement())
  quotationNumber String          @unique
  title           String
  description     String?
  status          QuotationStatus @default(DRAFT)
  subtotal        Decimal         @db.Decimal(12, 2)
  taxAmount       Decimal         @db.Decimal(12, 2)
  discountAmount  Decimal         @default(0) @db.Decimal(12, 2)
  totalAmount     Decimal         @db.Decimal(12, 2)
  currency        String          @default("USD")
  validUntil      DateTime?
  notes           String?
  terms           String?
  companyId       Int?
  leadId          Int?
  dealId          Int?
  createdBy       Int
  sentAt          DateTime?
  viewedAt        DateTime?
  acceptedAt      DateTime?
  rejectedAt      DateTime?
  expiresAt       DateTime?
  createdAt       DateTime        @default(now())
  updatedAt       DateTime        @updatedAt
  deletedAt       DateTime?
  invoices        Invoice[]
  items           QuotationItem[]
  companies       companies?      @relation("CompanyQuotations", fields: [companyId], references: [id])
  createdByUser   User            @relation("UserQuotations", fields: [createdBy], references: [id])
  deal            Deal?           @relation("DealQuotations", fields: [dealId], references: [id])
  lead            Lead?           @relation("LeadQuotations", fields: [leadId], references: [id])

  @@map("quotations")
}

model QuotationItem {
  id           Int       @id @default(autoincrement())
  quotationId  Int
  productId    Int?
  name         String
  description  String?
  quantity     Decimal   @db.Decimal(10, 2)
  unit         String?   @default("pcs")
  unitPrice    Decimal   @db.Decimal(10, 2)
  taxRate      Decimal   @default(0) @db.Decimal(5, 2)
  discountRate Decimal   @default(0) @db.Decimal(5, 2)
  subtotal     Decimal   @db.Decimal(10, 2)
  totalAmount  Decimal   @db.Decimal(10, 2)
  sortOrder    Int       @default(0)
  createdAt    DateTime  @default(now())
  updatedAt    DateTime  @updatedAt
  product      Product?  @relation(fields: [productId], references: [id])
  quotation    Quotation @relation(fields: [quotationId], references: [id], onDelete: Cascade)

  @@map("quotation_items")
}

model Invoice {
  id             Int           @id @default(autoincrement())
  invoiceNumber  String        @unique
  title          String
  description    String?
  status         InvoiceStatus @default(DRAFT)
  subtotal       Decimal       @db.Decimal(12, 2)
  taxAmount      Decimal       @db.Decimal(12, 2)
  discountAmount Decimal       @default(0) @db.Decimal(12, 2)
  totalAmount    Decimal       @db.Decimal(12, 2)
  paidAmount     Decimal       @default(0) @db.Decimal(12, 2)
  currency       String        @default("USD")
  dueDate        DateTime?
  notes          String?
  terms          String?
  companyId      Int?
  leadId         Int?
  dealId         Int?
  quotationId    Int?
  createdBy      Int
  sentAt         DateTime?
  viewedAt       DateTime?
  paidAt         DateTime?
  createdAt      DateTime      @default(now())
  updatedAt      DateTime      @updatedAt
  deletedAt      DateTime?
  items          InvoiceItem[]
  createdByUser  User          @relation("UserInvoices", fields: [createdBy], references: [id])
  deal           Deal?         @relation("DealInvoices", fields: [dealId], references: [id])
  lead           Lead?         @relation("LeadInvoices", fields: [leadId], references: [id])
  quotation      Quotation?    @relation(fields: [quotationId], references: [id])
  payments       Payment[]

  @@map("invoices")
}

model InvoiceItem {
  id           Int      @id @default(autoincrement())
  invoiceId    Int
  productId    Int?
  name         String
  description  String?
  quantity     Decimal  @db.Decimal(10, 2)
  unit         String?  @default("pcs")
  unitPrice    Decimal  @db.Decimal(10, 2)
  taxRate      Decimal  @default(0) @db.Decimal(5, 2)
  discountRate Decimal  @default(0) @db.Decimal(5, 2)
  subtotal     Decimal  @db.Decimal(10, 2)
  totalAmount  Decimal  @db.Decimal(10, 2)
  sortOrder    Int      @default(0)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  invoice      Invoice  @relation(fields: [invoiceId], references: [id], onDelete: Cascade)
  product      Product? @relation(fields: [productId], references: [id])

  @@map("invoice_items")
}

model Payment {
  id              Int      @id @default(autoincrement())
  invoiceId       Int
  amount          Decimal  @db.Decimal(12, 2)
  currency        String   @default("USD")
  paymentMethod   String
  paymentDate     DateTime @default(now())
  referenceNumber String?
  notes           String?
  createdBy       Int
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  createdByUser   User     @relation("UserPayments", fields: [createdBy], references: [id])
  invoice         Invoice  @relation(fields: [invoiceId], references: [id], onDelete: Cascade)

  @@map("payments")
}

model ProposalTemplate {
  id           Int       @id @default(autoincrement())
  name         String
  description  String?
  content      String
  isActive     Boolean   @default(true)
  isDefault    Boolean   @default(false)
  headerHtml   String?
  footerHtml   String?
  styles       Json?
  variables    Json?
  previewImage String?
  category     String?   @default("business")
  createdAt    DateTime  @default(now())
  updatedAt    DateTime  @updatedAt
  deletedAt    DateTime?

  @@map("proposal_templates")
}

model QuotationTemplate {
  id                 Int       @id @default(autoincrement())
  name               String
  description        String?
  headerContent      String?
  footerContent      String?
  termsAndConditions String?
  validityDays       Int       @default(30)
  showTax            Boolean   @default(true)
  showDiscount       Boolean   @default(true)
  logoPosition       String    @default("left")
  isDefault          Boolean   @default(false)
  isActive           Boolean   @default(true)
  styles             Json?
  createdAt          DateTime  @default(now())
  updatedAt          DateTime  @updatedAt
  deletedAt          DateTime?

  @@map("quotation_templates")
}

model InvoiceTemplate {
  id                 Int       @id @default(autoincrement())
  name               String
  description        String?
  designType         String    @default("standard")
  headerContent      String?
  footerContent      String?
  termsAndConditions String?
  showTax            Boolean   @default(true)
  showDiscount       Boolean   @default(true)
  logoPosition       String    @default("left")
  primaryColor       String?   @default("#000000")
  secondaryColor     String?   @default("#666666")
  isDefault          Boolean   @default(false)
  isActive           Boolean   @default(true)
  styles             Json?
  createdAt          DateTime  @default(now())
  updatedAt          DateTime  @updatedAt
  deletedAt          DateTime?

  @@map("invoice_templates")
}

model TermsAndConditions {
  id          Int       @id @default(autoincrement())
  name        String
  description String?
  content     String
  category    String?   @default("general")
  isDefault   Boolean   @default(false)
  isActive    Boolean   @default(true)
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  deletedAt   DateTime?

  @@map("terms_and_conditions")
}

model File {
  id             Int       @id @default(autoincrement())
  name           String
  fileName       String
  filePath       String
  fileSize       Int
  mimeType       String
  entityType     String
  entityId       Int
  uploadedBy     Int
  createdAt      DateTime  @default(now())
  updatedAt      DateTime  @updatedAt
  deletedAt      DateTime?
  uploadedByUser User      @relation("UserUploadedFiles", fields: [uploadedBy], references: [id])

  @@map("files")
}

model Expense {
  id              Int           @id @default(autoincrement())
  expenseDate     DateTime
  amount          Decimal       @db.Decimal(12, 2)
  type            ExpenseType
  category        String
  description     String?
  remarks         String?
  receiptUrl      String?
  status          ExpenseStatus @default(PENDING)
  submittedBy     Int
  approvedBy      Int?
  rejectedBy      Int?
  approvedAt      DateTime?
  approvalRemarks String?
  projectId       Int?
  dealId          Int?
  leadId          Int?
  currency        String        @default("USD")
  isActive        Boolean       @default(true)
  createdAt       DateTime      @default(now())
  updatedAt       DateTime      @updatedAt
  deletedAt       DateTime?
  approvedByUser  User?         @relation("UserApprovedExpenses", fields: [approvedBy], references: [id])
  deal            Deal?         @relation(fields: [dealId], references: [id])
  lead            Lead?         @relation(fields: [leadId], references: [id])
  rejectedByUser  User?         @relation("UserRejectedExpenses", fields: [rejectedBy], references: [id])
  submittedByUser User          @relation("UserSubmittedExpenses", fields: [submittedBy], references: [id])

  @@map("expenses")
}

model Budget {
  id             Int          @id @default(autoincrement())
  name           String
  description    String?
  budgetType     BudgetType
  amount         Decimal      @db.Decimal(12, 2)
  spent          Decimal      @default(0) @db.Decimal(12, 2)
  period         BudgetPeriod
  startDate      DateTime
  endDate        DateTime
  expenseType    ExpenseType?
  projectId      Int?
  departmentId   Int?
  currency       String       @default("USD")
  isActive       Boolean      @default(true)
  alertThreshold Int          @default(80)
  createdBy      Int
  createdAt      DateTime     @default(now())
  updatedAt      DateTime     @updatedAt
  deletedAt      DateTime?
  createdByUser  User         @relation("UserCreatedBudgets", fields: [createdBy], references: [id])

  @@map("budgets")
}

model Workflow {
  id          Int                 @id @default(autoincrement())
  name        String
  description String?
  isActive    Boolean             @default(true)
  trigger     WorkflowTrigger
  triggerData Json?
  conditions  Json
  actions     Json
  createdBy   Int?
  createdAt   DateTime            @default(now())
  updatedAt   DateTime            @updatedAt
  deletedAt   DateTime?
  executions  WorkflowExecution[]

  @@map("workflows")
}

model WorkflowExecution {
  id          Int                     @id @default(autoincrement())
  workflowId  Int
  triggerData Json
  status      WorkflowExecutionStatus
  result      Json?
  error       String?
  startedAt   DateTime                @default(now())
  completedAt DateTime?
  duration    Int?
  workflow    Workflow                @relation(fields: [workflowId], references: [id], onDelete: Cascade)

  @@map("workflow_executions")
}

model Notification {
  id        Int              @id @default(autoincrement())
  userId    Int
  type      NotificationType
  title     String
  message   String
  link      String?
  read      Boolean          @default(false)
  readAt    DateTime?
  metadata  Json?
  createdAt DateTime         @default(now())
  updatedAt DateTime         @updatedAt
  user      User             @relation("UserNotifications", fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId, read])
  @@index([userId, createdAt])
  @@map("notifications")
}

model NotificationPreference {
  id                Int      @id @default(autoincrement())
  userId            Int      @unique
  inAppEnabled      Boolean  @default(true)
  emailEnabled      Boolean  @default(false)
  soundEnabled      Boolean  @default(true)
  preferences       Json     @default("{\"taskDue\": true, \"clientReply\": true, \"followUpDue\": true, \"leadCreated\": true, \"leadUpdated\": true, \"leadAssigned\": true, \"paymentAdded\": true, \"taskAssigned\": true, \"paymentUpdated\": true, \"meetingScheduled\": true}")
  doNotDisturbStart Int?
  doNotDisturbEnd   Int?
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
  user              User     @relation("UserNotificationPreference", fields: [userId], references: [id], onDelete: Cascade)

  @@map("notification_preferences")
}

enum LeadStatus {
  NEW
  CONTACTED
  QUALIFIED
  PROPOSAL
  NEGOTIATION
  CLOSED
  LOST
  CONVERTED
}

enum ActivityType {
  USER_REGISTRATION
  USER_LOGIN
  USER_LOGOUT
  ROLE_UPDATE
  PERMISSION_UPDATE
  LEAD_CREATED
  LEAD_UPDATED
  LEAD_DELETED
  SYSTEM_BACKUP
  SYSTEM_MAINTENANCE
  SECURITY_ALERT
  DATABASE_MIGRATION
  API_CALL
  ERROR_LOG
  LEAD_ASSIGNED
  LEAD_STATUS_CHANGED
  LEAD_CONVERTED
  LEAD_FOLLOW_UP_CREATED
  LEAD_FOLLOW_UP_COMPLETED
  TASK_CREATED
  TASK_UPDATED
  TASK_COMPLETED
  COMMUNICATION_LOGGED
  CONTACT_CREATED
  DEAL_CREATED
  DEAL_UPDATED
  DEAL_WON
  DEAL_LOST
  FILE_UPLOADED
  FILE_DELETED
  QUOTATION_CREATED
  QUOTATION_UPDATED
  QUOTATION_SENT
  INVOICE_CREATED
  INVOICE_UPDATED
  INVOICE_SENT
  NOTE_ADDED
  NOTE_UPDATED
}

enum LeadPriority {
  LOW
  MEDIUM
  HIGH
  URGENT
}

enum TaskStatus {
  PENDING
  IN_PROGRESS
  COMPLETED
  CANCELLED
}

enum TaskPriority {
  LOW
  MEDIUM
  HIGH
  URGENT
}

enum CommunicationType {
  CALL
  EMAIL
  SMS
  MEETING
  NOTE
}

enum FieldType {
  TEXT
  NUMBER
  DATE
  TIME
  DROPDOWN
  MULTI_SELECT
  CHECKBOX
  TOGGLE
  FILE
}

enum IntegrationAuthType {
  API_KEY
  OAUTH
  TOKEN
}

enum IntegrationLogStatus {
  PENDING
  SUCCESS
  FAILED
  PARTIAL
}

enum LeadSyncStatus {
  SYNCED
  PENDING
  FAILED
  CONFLICT
}

enum LeadImportStatus {
  PROCESSING
  COMPLETED
  FAILED
  PARTIAL
}

enum TemplateType {
  EMAIL
  WHATSAPP
  SMS
}

enum TriggerType {
  LEAD_CREATED
  LEAD_UPDATED
  LEAD_STATUS_CHANGED
  LEAD_ASSIGNED
  MANUAL
}

enum MessageStatus {
  PENDING
  SENT
  DELIVERED
  READ
  FAILED
  CANCELLED
}

enum RoleAccessScope {
  OWN
  GLOBAL
  TEAM
}

enum CompanySize {
  STARTUP
  SMALL
  MEDIUM
  LARGE
  ENTERPRISE
}

enum CompanyStatus {
  ACTIVE
  INACTIVE
  PROSPECT
  CUSTOMER
  PARTNER
  COMPETITOR
}

enum CompanyActivityType {
  CALL
  EMAIL
  MEETING
  VISIT
  DEMO
  PRESENTATION
  FOLLOW_UP
  NOTE
  QUOTE_SENT
  CONTRACT_SENT
  PAYMENT_RECEIVED
  SUPPORT_TICKET
  TRAINING
  AUDIT
  REVIEW
  PARTNERSHIP
  OTHER
}

enum QuotationStatus {
  DRAFT
  SENT
  VIEWED
  ACCEPTED
  REJECTED
  EXPIRED
  CANCELLED
}

enum InvoiceStatus {
  DRAFT
  SENT
  VIEWED
  PAID
  PARTIALLY_PAID
  OVERDUE
  CANCELLED
  REFUNDED
}

enum ProductType {
  PHYSICAL
  DIGITAL
  SERVICE
}

enum ExpenseType {
  TRAVEL
  MEALS
  ACCOMMODATION
  OFFICE_SUPPLIES
  UTILITIES
  MARKETING
  ENTERTAINMENT
  TRAINING
  EQUIPMENT
  SOFTWARE
  CONSULTING
  MISCELLANEOUS
  OTHER
}

enum ExpenseStatus {
  PENDING
  APPROVED
  REJECTED
  REIMBURSED
}

enum BudgetType {
  MONTHLY
  QUARTERLY
  ANNUAL
  PROJECT
  DEPARTMENT
  CAMPAIGN
}

enum BudgetPeriod {
  MONTHLY
  QUARTERLY
  HALF_YEARLY
  ANNUAL
  CUSTOM
}

enum WorkflowTrigger {
  LEAD_CREATED
  LEAD_UPDATED
  LEAD_STATUS_CHANGED
  LEAD_ASSIGNED
  DEAL_CREATED
  DEAL_UPDATED
  DEAL_STAGE_CHANGED
  TASK_CREATED
  TASK_COMPLETED
}

enum WorkflowExecutionStatus {
  PENDING
  RUNNING
  SUCCESS
  FAILED
  SKIPPED
}

enum NotificationType {
  LEAD_CREATED
  LEAD_UPDATED
  LEAD_ASSIGNED
  LEAD_STATUS_CHANGED
  CLIENT_REPLY
  PAYMENT_ADDED
  PAYMENT_UPDATED
  TASK_ASSIGNED
  TASK_DUE
  MEETING_SCHEDULED
  FOLLOW_UP_DUE
  DEAL_CREATED
  DEAL_WON
  DEAL_LOST
  QUOTATION_SENT
  QUOTATION_ACCEPTED
  INVOICE_SENT
  INVOICE_PAID
  SYSTEM
}

enum EmailTemplateCategory {
  WELCOME
  EMAIL_VERIFICATION
  EMAIL_CHANGE_CONFIRMATION
  PASSWORD_RESET
  WELCOME_SERIES
  ONBOARDING
  NEWSLETTER
  MARKETING
  SYSTEM_NOTIFICATION
  CUSTOM
}

enum EmailTemplateStatus {
  DRAFT
  PENDING_APPROVAL
  APPROVED
  ACTIVE
  ARCHIVED
  REJECTED
}

enum EmailCampaignType {
  WELCOME_SERIES
  ONBOARDING
  NURTURE_SEQUENCE
  RE_ENGAGEMENT
  NEWSLETTER
  PROMOTIONAL
  SYSTEM
  CUSTOM
}

enum EmailTriggerType {
  USER_REGISTERED
  USER_EMAIL_CHANGED
  LEAD_CREATED
  LEAD_QUALIFIED
  DEAL_CREATED
  DEAL_WON
  INVOICE_SENT
  QUOTATION_SENT
  CUSTOM
}

enum EmailExecutionStatus {
  PENDING
  IN_PROGRESS
  COMPLETED
  FAILED
  CANCELLED
  SKIPPED
}

enum EmailAuditAction {
  SENT
  DELIVERED
  OPENED
  CLICKED
  BOUNCED
  COMPLAINED
  UNSUBSCRIBED
  CREATED
  UPDATED
  DELETED
  APPROVED
  REJECTED
  PREVIEWED
}

enum EmailAuditStatus {
  SUCCESS
  FAILED
  PENDING
  DELIVERED
  BOUNCED
}

enum InternalDealStatus {
  DRAFT
  PROPOSAL
  NEGOTIATION
  WON
  LOST
}
